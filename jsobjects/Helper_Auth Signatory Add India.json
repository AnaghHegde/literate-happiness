{
  "unpublishedCollection": {
    "name": "Helper",
    "pageId": "Auth Signatory Add India",
    "pluginId": "js-plugin",
    "pluginType": "JS",
    "actions": [],
    "archivedActions": [],
    "body": "export default {\n\tget_data: (personOID) => {\n\t\t\n\t\tconst formFields = List1.items;\n\t\t//const personOID = 3;\n\t\treturn formFields.map((item,idx) => {\n\t\t\t\t\t\treturn `(\n\t\t\t\t\t\t  '${utils.generateOID(20)}',\n\t\t\t\t\t\t\t'${personOID}',\n\t\t\t\t\t\t\t'${personOID}',\n\t\t\t\t\t\t\t'${appsmith.store.customerOID}',\n\t\t\t\t\t\t\t'${appsmith.store.customerID}',\n\t\t\t\t\t\t\t'${'Auth Signatory Person India'}',\n\t\t\t\t\t\t\t'${item.Text7.text[idx]}',\n\t\t\t\t\t\t\t${item.Input18.text}\n\t\t\t\t\t\t\t)`;\n\t\t}).join(',')\n},\n\tdummy:() => {\n\t\tconst formFields = List1.items;\n\t\treturn formFields.map((item,idx)=>{ \n\t\t\treturn `'${item.vayCurrencyLimitOID.text[idx]}',\n\t\t\t${(item.Input20.text)},\n\t\t\t${(item.vayCurrencyLimitOID.text)}`;\n\t\t} );\n\t},\n\tformList: ()=>{\n\t\tconst formFields = List1.items; \n\t\treturn formFields;\n\t},\n\tgetAuthSignatoryPersonData: ()=>{\n\t\treturn appsmith.store.keyPersonData;\n\t},\n\tgetAuthSignatoryPersonCurrencyLimitData: ()=>{\n\t\tconsole.log('Auth SignatoryLimit Currencies fecthed :',getAuthSignPersonCurrencyLimit.data);\n\t\tif(getAuthSignPersonCurrencyLimit.data.length>0){\n\t\t\treturn getAuthSignPersonCurrencyLimit.data;\n\t\t}else{\n\t\t\tconst  selectedCurrency = appsmith.store.vayCCY;\n\t\t\tconsole.log('In Static Currencies', selectedCurrency);\n\t\t\treturn  appsmith.store.vayCCY.map((item) =>{\n\t\t\t\t return ({\n\t\t\t\t\t\t\tCUSTOMER_KEY_PERSON_CURRENCY_CODE_FORADMTXN:item,\n\t\t\t\t\t\t\tCUSTOMER_KEY_PERSON_CURRENCY_LIMIT:0\n\t\t\t\t});\n\t\t});\n\t\t}\n\t},\n\tupdateAuthSignatoryPersonCurrencyLimitQuery: async ()=>{\n\t\t\tconst updates = this.updateKeyPersonCurrencyLimitString();\n\t\t\tupdates.forEach((updatedItem) =>{\n\t\t\t\t\t\tconsole.log('updatedItem-',updatedItem);\n\t\t\t\t\t //const return_currencyresponse = updateAuthSignCurrencyLimit.run({currencyLimitOID:updatedItem.oid, currencyLimit:updatedItem.limit});\n\t\t\t\t\t const return_currencyresponse = updateAuthSignCurrencyLimit.run({currencyLimitOID:updatedItem.oid, currencyLimit:updatedItem.limit});\n\t\t\t\t   if(!!return_currencyresponse){\n\t\t\t\t\t\t console.log(\"Success\",return_currencyresponse);\n\t\t\t\t\t }else{\n\t\t\t\t\t\t console.log(\"Error\",return_currencyresponse);\n\t\t\t\t\t }\n\t});\n\t},\n\tgetCurrencies: ()=>{\n\t\treturn appsmith.store.vayCCY;\n\t},\n\tupdateAuthSignatoryPersonCurrencyLimitString:() =>{\t\t\n\t\t\tconst formFields = List1.items;\n\t\t  //console.log('Form List',formFields);\n\t\t\treturn formFields.map((item,idx) =>{ \n\t\t\t\treturn ({\n\t\t\t\t\tlimit:item.Input20.text,\n\t\t\t\t\toid : getAuthSignPersonCurrencyLimit.data[idx].OID\n\t\t\t\t});\t\t\t\n\t\t\t});\n  },\n\tvalidatePartnerPercentage:() =>{\n\t\t  getPartnerPercentageInfo.run( (response) =>{\n\t\t\t\t\tif(!!response && response.authsigncount >= 1 && response.authsignsum >= 50 ){\n\t\t\t\t\t\tconsole.log('Partner Percentage valid');\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tshowAlert('Partner% must be greater than 50...Please update Partner%');\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t})\n\t},\n\tgetStore:() =>{\n\t\treturn appsmith.store;\n },\n\tcheckPartnerper: ()=> {\n\t\treturn Helper.validatePartnerPercentage();\n\t\t/*console.log('Return Value-', isPartnerPercValid)\n\t\tif(!!isPartnerPercValid){\n\t\t\tconsole.log('Invalid')\n\t\t}*/\n\t}\n}\n",
    "variables": []
  },
  "id": "Auth Signatory Add India_Helper",
  "deleted": false,
  "gitSyncId": "61e6589e69c0e21f279fec21_620a1cae5ce68e0e609d9e21"
}