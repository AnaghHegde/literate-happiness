{
  "unpublishedCollection": {
    "name": "Helper",
    "pageId": "Entity Administrator Add",
    "pluginId": "js-plugin",
    "pluginType": "JS",
    "actions": [],
    "archivedActions": [],
    "body": "export default {\n\tget_data: (personOID) => {\n\t\t\n\t\tconst formFields = List1.items;\n\t\t//const personOID = 3;\n\t\treturn formFields.map((item,idx) => {\n\t\t\t\t\t\treturn `(\n\t\t\t\t\t\t  '${utils.generateOID(20)}',\n\t\t\t\t\t\t\t'${personOID}',\n\t\t\t\t\t\t\t'${personOID}',\n\t\t\t\t\t\t\t'${appsmith.store.customerOID}',\n\t\t\t\t\t\t\t'${appsmith.store.customerID}',\n\t\t\t\t\t\t\t'${'Entity Administrator Person'}',\n\t\t\t\t\t\t\t'${item.Text6.text[idx]}',\n\t\t\t\t\t\t\t${item.Input18.text}\n\t\t\t\t\t\t\t)`;\n\t\t}).join(',')\n},\n\tdummy:() => {\n\t\tconst formFields = List1.items;\n\t\treturn formFields.map((item,idx)=>{ \n\t\t\treturn `'${item.vayCurrencyLimitOID.text[idx]}',\n\t\t\t${(item.Input20.text)},\n\t\t\t${(item.vayCurrencyLimitOID.text)}`;\n\t\t} );\n\t},\n\tformList: ()=>{\n\t\tconst formFields = List1.items; \n\t\treturn formFields;\n\t},\n\tgetEntityAdminPersonData: ()=>{\n\t\treturn appsmith.store.keyPersonData;\n\t},\n\tgetEntityAdminCurrencyLimitData: ()=>{\n\t\tconsole.log('Entity Admin Limit Currencies fecthed :',getEntityAdminCurrencyLimit.data);\n\t\tif(getEntityAdminCurrencyLimit.data.length>0){\n\t\t\treturn getEntityAdminCurrencyLimit.data;\n\t\t}else{\n\t\t\tconst  selectedCurrency = appsmith.store.vayCCY;\n\t\t\tconsole.log('In Static Currencies', selectedCurrency);\n\t\t\treturn  appsmith.store.vayCCY.map((item) =>{\n\t\t\t\t return ({\n\t\t\t\t\t\t\tCUSTOMER_KEY_PERSON_CURRENCY_CODE_FORADMTXN:item,\n\t\t\t\t\t\t\tCUSTOMER_KEY_PERSON_CURRENCY_LIMIT:0\n\t\t\t\t});\n\t\t});\n\t\t}\n\t},\n\tupdateEntityAdminCurrencyLimitQuery: async ()=>{\n\t\t\tconst updates = this.updateKeyPersonCurrencyLimitString();\n\t\t\tupdates.forEach((updatedItem) =>{\n\t\t\t\t\t\tconsole.log('updatedItem-',updatedItem);\n\t\t\t\t\t //const return_currencyresponse = updateEntityAdminCurrencyLimit.run({currencyLimitOID:updatedItem.oid, currencyLimit:updatedItem.limit});\n\t\t\t\t\t const return_currencyresponse = updateEntityAdminCurrencyLimit.run({currencyLimitOID:updatedItem.oid, currencyLimit:updatedItem.limit});\n\t\t\t\t   if(!!return_currencyresponse){\n\t\t\t\t\t\t console.log(\"Success\",return_currencyresponse);\n\t\t\t\t\t }else{\n\t\t\t\t\t\t console.log(\"Error\",return_currencyresponse);\n\t\t\t\t\t }\n\t});\n\t},\n\tgetCurrencies: ()=>{\n\t\treturn appsmith.store.vayCCY;\n\t},\n\tupdateEntityAdminCurrencyLimitString:() =>{\t\t\n\t\t\tconst formFields = List1.items;\n\t\t  //console.log('Form List',formFields);\n\t\t\treturn formFields.map((item,idx) =>{ \n\t\t\t\treturn ({\n\t\t\t\t\tlimit:item.Input20.text,\n\t\t\t\t\toid : getEntityAdminCurrencyLimit.data[idx].OID\n\t\t\t\t});\t\t\t\n\t\t\t});\n  },\n\tgetStore:() =>{\n\t\treturn appsmith.store;\n },\n\tchangeEntityAdminAddress: async () =>{\n\t\t\tconst retain_keyPersonData = await Helper.retainEntityAdminInKey()\n\t\t\tstoreValue('keyPersonData',retain_keyPersonData)\n\t\t  console.log('Entity Admin Data - ',appsmith.store.keyPersonData)\n\t\t\tif (vayIndEaAddCountrySelect.selectedOptionValue == \"IN\"){\n\t\t\t\tnavigateTo('Add New Address Indian',{ \"bkPage\" : \"IndEaAdd\" })\n\t\t\t}\n\t},\n\tretainEntityAdminInKey:() => {\n\t\t\tconst retain_keyPersonData = appsmith.store.keyPersonData\n\t\t\tretain_keyPersonData[0].CUSTOMER_KEY_PERSON_TYPE  = ''\n\t\t\tretain_keyPersonData[0].CUSTOMER_KEY_PERSON_IS_AUTH_SIGN = false\n\t\t\tretain_keyPersonData[0].CUSTOMER_KEY_PERSON_OTHERS_INFO = ''\n\t\t\tretain_keyPersonData[0].CUSTOMER_KEY_PERSON_PARTNER_PERC = Number(0).toString()\n\t\t\tretain_keyPersonData[0].CUSTOMER_KEY_PERSON_FIRSTNAME = Input1.text\n\t\t\tretain_keyPersonData[0].CUSTOMER_KEY_PERSON_MIDDLENAME = Input3.text\n\t\t\tretain_keyPersonData[0].CUSTOMER_KEY_PERSON_LASTNAME = Input4.text\n\t\t\tretain_keyPersonData[0].CUSTOMER_KEY_PERSON_MOTHERNAME  = Input5.text\n\t\t\tretain_keyPersonData[0].CUSTOMER_KEY_PERSON_FATHERNAME = Input6.text\n\t\t\tretain_keyPersonData[0].CUSTOMER_KEY_PERSON_DOB = moment(DatePicker1).format(\"YYYY-MM-DD\")\n\t\t\tretain_keyPersonData[0].CUSTOMER_KEY_PERSON_TAX_ID  = Input7.text\n\t\t\tretain_keyPersonData[0].CUSTOMER_KEY_PERSON_NATIONALITY = Select3.selectedOptionValue\n\t\t\tretain_keyPersonData[0].CUSTOMER_KEY_PERSON_RES_TAX_PURPOSE = ''\n\t\t\tretain_keyPersonData[0].CUSTOMER_KEY_PERSON_DESIGNATION  = ''\n\t\t\tretain_keyPersonData[0].CUSTOMER_KEY_PERSON_PASSPORT_NO = Input19.text\n\t\t\tretain_keyPersonData[0].CUSTOMER_KEY_PERSON_PASSPORT_EXPIRE_DATE = moment(DatePicker1).format(\"YYYY-MM-DD\")\n\t\t\tretain_keyPersonData[0].CUSTOMER_KEY_PERSON_ACCESS_AS = vayEntityAdminUserAccess.selectedOptionValue\n\t\t\tretain_keyPersonData[0].CUSTOMER_KEY_PERSON_DIN_DPIN  = ''\n\t\t\tretain_keyPersonData[0].CUSTOMER_KEY_PERSON_ADDRESS_LINE1  = Input9.text\n\t\t\tretain_keyPersonData[0].CUSTOMER_KEY_PERSON_ADDRESS_LINE2  = Input10.text\n\t\t\tretain_keyPersonData[0].CUSTOMER_KEY_PERSON_ADDRESS_CITY  = Input11.text\n\t\t\tretain_keyPersonData[0].CUSTOMER_KEY_PERSON_ADDRESS_DISTRICT  = Input12.text\n\t\t\tretain_keyPersonData[0].CUSTOMER_KEY_PERSON_ADDRESS_STATE  = Input13.text\n\t\t\tretain_keyPersonData[0].CUSTOMER_KEY_PERSON_ADDRESS_COUNTRY = vayIndEaAddCountrySelect.selectedOptionValue\n\t\t\tretain_keyPersonData[0].CUSTOMER_KEY_PERSON_ADDRESS_ZIP = Input15.text\n\t\t\tretain_keyPersonData[0].CUSTOMER_KEY_PERSON_MOBILE  = Input16.text\n\t\t\tretain_keyPersonData[0].CUSTOMER_KEY_PERSON_EMAIL   = Input17.text\n\t\t  appsmith.store.vayCCY.map((item) =>{\n\t\t\t\t return ({\n\t\t\t\t\t\t\tCUSTOMER_KEY_PERSON_CURRENCY_CODE_FORADMTXN:item,\n\t\t\t\t\t\t\tCUSTOMER_KEY_PERSON_CURRENCY_LIMIT:Input18.text\n\t\t\t\t});\n\t  \t});\n\t\treturn retain_keyPersonData\n\t}\n\t\n}\n",
    "variables": []
  },
  "id": "Entity Administrator Add_Helper",
  "deleted": false,
  "gitSyncId": "61e6589e69c0e21f279fec21_620b86663cd8f8722954c228"
}